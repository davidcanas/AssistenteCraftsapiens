<!DOCTYPE html>

<html>

<head>

    <title>City</title>

    <style>
        html,
        body {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden;

        }

        iframe {
            width: 100%;
            height: 100%;
            border: none;
            position: absolute;
            top: 0;
            left: 0;
        }

        .error-message {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: rgba(255, 0, 0, 0.5);
            color: white;
            padding: 10px;
            display: none;
            z-index: 1000;
        }

        .success-message {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: rgba(0, 255, 0, 0.5);
            color: white;
            padding: 10px;
            display: none;
            z-index: 1000;

        }
    </style>

</head>

<body>

    <% if (cityName && cityInfo) {%>


        <iframe src="http://jogar.craftsapiens.com.br:30009/?worldname=Earth&zoom=4&x=<%=cityInfo.data.location.x%>&z=<%=cityInfo.data.location.z%>"
            id="cityIframe"></iframe>


        <iframe
            src="http://jogar.craftsapiens.com.br:30009/?worldname=Earth&zoom=4&x=<%=cityInfo.data.location.x%>&z=<%=cityInfo.data.location.z%>"
            id="cityIframe"></iframe>

        <div class="success-message" id="successMessage">
            <%= cityName %> (<%= cityInfo.data.mayor %>)
        </div>



        <% } else { %>

            <iframe src="http://jogar.craftsapiens.com.br:30009/?worldname=spawn&zoom=4" id="cityIframe"></iframe>

            <div class="error-message" id="errorMessage">
                <%= cityName %> n√£o encontrada
            </div>

            <% } %>

                <div id="cityNameData" data-cityname="<%= cityName %>"></div>
                <div id="cityInfoData" data-cityinfo="<%= cityInfo %>"></div>
                <script>
                    function showErrorMessage() {

                        var errorMessage = document.getElementById('errorMessage');

                        errorMessage.style.display = 'block';

                        setTimeout(function () {

                            errorMessage.style.display = 'none';

                        }, 3000);

                    }

                    var cityName = document.getElementById('cityNameData').getAttribute('data-cityname');
                    var cityInfo = document.getElementById('cityInfoData').getAttribute('data-cityinfo');


                    if (!cityInfo && cityName) {

                        showErrorMessage();

                    }



                    function showSuccessMessage() {

                        var successMessage = document.getElementById('successMessage');

                        successMessage.style.display = 'block';

                        setTimeout(function () {
                            successMessage.style.display = 'none';

                        }, 2000);

                    }

                    if (cityInfo) {
                        showSuccessMessage();
                    }

                </script>

</body>

</html>